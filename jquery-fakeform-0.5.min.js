
/*
* form 요소에 디자인을 입히기 위한 대체 스크립트
* Alternate script for form elements
* with jQuery
* Info - 
* Demo - 
* License - http://creativecommons.org/licenses/by-sa/2.0/kr/
*/

(function($) {


	// 기본 옵션 설정
	var defaultoptions = {


		// PLACEHOLDER
		'placeholder': {
			// 해당 input에 아래 클래스 추가 또는 제거.
			classname: 'placeholder',
			// placeholder를 지원하는 브라우저에도 사용할 것인지 여부.
			useall: false
		},


		// RADIO
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'radio': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="radio"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'radio',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},

		// CHECKBOX
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'checkbox': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="checkbox"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'checkbox',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},


		// SELECT
		// $().fakeselect() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'select': {

			// 타이틀
			title: {

				// 사용할 태그명
				tagname: 'span',

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 텍스트 지정.
				innerhtml: '<strong></strong>',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-title',
					focus: 'focus',
					active: 'active', // 옵션 레이어가 보일 때
					disabled: 'disabled'
				},

				// 대상 select 요소의 넓이를 확인할 수 없을 때 지정할 넓이
				defaultwidth: 100

			},

			// 옵션 레이어
			option: {

				// 사용할 태그명
				tagname: 'div',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-option',
					show: 'show',
					upper: 'upper', // 레이어가 타이틀 상단에 위치하는 경우 추가될 클래스명
					selected: 'selected', // 선택된 옵션의 span 태그에 지정되는 클래스명
					disabled: 'disabled' // disabled 속성이 지정된 옵션그룹에 지정되는 클래스명
				},

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 아래 형식으로 옵션 목록 지정.
				// <ul>
				// 	<li><span[ class="옵션 태그에 지정된 CSS 클래스명"]> option </span></li>
				// 	<li> 또는 <li>
				// 		<strong[ class="옵션그룹 태그에 지정된 CSS 클래스명"]> optgroup </strong>
				// 		<ul>
				// 			<li><span> option </span></li>
				// 		</ul>
				// 	</li>
				// </ul>
				// * tagname이 'ul'인 경우 최상위 ul 태그는 만들지 않음.
				innerhtml: '',

				// 레이어가 타이틀 하단에 위치하는 경우 포지션
				position: -1,
				// 레이어가 타이틀 상단에 위치하는 경우 포지션
				upperposition: 1,

				// CSS z-index
				zindex: 10,

				// 최대 표시 개수. 이상일 경우 스크롤바 생성.
				maxlength: 5

			},

			// show|hide 효과 지정.
			// 'fade', 'slide', 'fade&slide' 또는 직접 함수 지정( ex) show: function() { ... } ).
			// 직접 지정함수 내 this는 visibility 속성이 'hidden' 처리 된 옵션 레이어 jQuery 객체.
			effect: {
				show: 'fade&slide',
				hide: 'fade&slide'
			},

			// 모바일 환경에서 사용 여부
			useinmobile: true

		}

	}

'use strict';
(function(){function W(){this.parentNode&&this.parentNode.removeChild(this)}function d(d){return parseInt(d.getAttribute("data-fakeform-index"))}function K(d,c){var g,l,f=defaultoptions[d];if(!c)return f;for(g in f)if("string"==typeof g)void 0===c[g]&&(c[g]=c[g]||f[g]);else for(l in c[g]=c[g]||{},f[g])void 0===c[g][l]&&(c[g][l]=f[g][l]);return c}if($&&!$.fn.fakeform){var L=void 0!==document.ontouchstart,M=$(window),x=$(document.documentElement),z=null,F=/^[0-9]+$/,Q=null;$.fn.fakeform=function(d,
c){this.filter("select").fakeselect(d,c);this.filter('input[type="radio"], input[type="checkbox"]').fakecheck(d,c);this.filter("textarea, input").not('[type="radio"], [type="checkbox"]').fakeplaceholder(d,c);return this};(function(){function d(g){var c=$(this),f=c.data("placeholder"),t=c.data("classname");g=g?g.type:"blur";var w=this.value;"focus"!=g||w!=f||this.readOnly?"blur"==g&&(w&&w!=f?c.removeClass(t):(c.addClass(t),this.value=f)):(c.removeClass(t),this.value="")}var c="placeholder"in document.createElement("input");
$.fn.fakeplaceholder=function(g){return this.each(function(){if($(this).data("placeholder"))d.call(this);else{var l,f,t;f=this.getAttribute("placeholder");t=K("placeholder",g);!f||!t.useall&&c||(l=$(this),l.data({placeholder:f,classname:t.classname}).removeAttr("placeholder").bind("focus blur",d),d.call(l[0]))}})}})();(function(){function z(b,d){for(var u,G,q=0,x=b.length;q<x;q++)!C.test(b[q].type)||F.test(b[q].getAttribute("data-fakeform-index"))?$(b[q]).fakecheck("reset"):(u=b[q].className,v++,
G=b[q].type.match(C)[1],currentoptions=A[v]=K(G,d),r[v]=$(b[q]).attr("data-fakeform-index",v).css({position:"absolute",left:"-999em"}).change(c).focus(g).blur(l),p[v]=$("<"+currentoptions.tagname+' class="'+currentoptions.classname.base+'" data-fakeform-index="'+v+'" />').mouseenter(g).mouseleave(l).click(w).insertBefore(r[v]),r[v].insertBefore(p[v]),$('label[for="'+r[v].attr("id")+'"]').mouseenter(f).mouseleave(t),u&&p[v].addClass(u),c.call(r[v][0]))}function c(){var b,c,g,f=d(this);if(F.test(f)&&
(b=d(this),p[b]))p[b][this.disabled?"addClass":"removeClass"](A[b].classname.disabled);if("checkbox"==this.type)p[f]&&p[f][this.checked?"addClass":"removeClass"](A[f].classname.checked);else if("radio"==this.type&&this.form&&this.name)for(b=this.form[this.name],c=0,g=b.length;c<g;c++)f=d(b[c]),p[f]&&p[f][b[c].checked?"addClass":"removeClass"](A[f].classname.checked)}function g(){var b=d(this);p[b]&&p[b].addClass(A[b].classname.focus)}function l(){var b=d(this);p[b]&&p[b].removeClass(A[b].classname.focus)}
function f(){g.call($("#"+this.htmlFor)[0])}function t(){l.call($("#"+this.htmlFor)[0])}function w(){var b=r[d(this)];b[0].disabled||("radio"==b[0].type&&(b[0].checked="checked",c.call(b[0])),b.click())}var r=[],p=[],x=/^(reset|remove|disable|enable)$/,C=/^(checkbox|radio)$/i,A=[],D,v=-1;$.fn.fakecheck=function(b){!b||$.isPlainObject(b)?z(this,b):"string"==typeof b&&x.test(b)&&this.each(function(){D[b].call(this);"reset"!=b&&D.reset.call(this)});return this};D={reset:function(){c.call(this)},remove:function(){var b=
d(this);p[b]&&(p[b].remove(),r[b].removeAttr("data-fakeform-index").css({position:"",left:""}),r[b]=p[b]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}}})();(function(){function X(a,e){var H,b,d=0,p=a.length;z||(z=$('<div style="width:100px;border:1px solid #fff;box-sizing:border-box;" />').appendTo(document.body),Q=100==z[0].offsetWidth,z.remove(),z=$(document.body));for(;d<p;d++)if(F.test(a[d].getAttribute("data-fakeform-index")))$(a[d]).fakeselect("reset");
else if(H=a[d].className,h++,b=n[h]=K("select",e),!L||b.useinmobile)m[h]=$(a[d]).attr("data-fakeform-index",h).css({position:"absolute",left:"-999em"}).change(c).keydown(g).focus(f).blur(t),k[h]=$("<"+b.title.tagname+' class="'+b.title.classname.base+'" data-fakeform-index="'+h+'" />').html(b.title.innerhtml).bind("mouseover mousemove mouseout mousedown mouseup mouseenter mouseleave",w).click(r).insertBefore(m[h]),"none"==m[h].css("display")&&k[h].hide(),b.title.widthminus=C(k[h]),N[h]=S(k[h]),m[h].insertBefore(k[h]),
k[h].before(" "),y[h]=$("<"+b.option.tagname+' class="'+b.option.classname.base+'" data-option-width="'+(m[h].attr("data-option-width")||0)+'" data-option-length="'+(m[h].attr("data-option-length")||b.option.maxlength)+'" />').css({position:"absolute",zIndex:b.option.zindex}).html(b.option.innerhtml),B[h]=S(y[h]),H&&(k[h].addClass(H),y[h].addClass(H)),m[h].removeAttr("data-option-width").removeAttr("data-option-length"),u(h,!0),q(m[h][0])}function c(a){var e=d(this);F.test(e)&&(q(this),u(e,!0===a))}
function g(a){a=a.keyCode;var e,b,c;if(38==a||40==a)return e=d(this),b=m[e][0].options,c=b.selectedIndex,38==a&&0<c?l(e,c-1):40==a&&b.length-1>c&&l(e,c+1),!1}function l(a,e){m[a][0].options[e].selected="selected";m[a].change()}function f(a){a=d(this);k[a]&&k[a].addClass(n[a].title.classname.focus)}function t(a){a=d(this);k[a]&&k[a].removeClass(n[a].title.classname.focus)}function w(a){var e=d(this);m[e][a.type]()}function r(a){a=d(this);if(m[a][0].disabled)return!1;if(I[a])return p(a),!L&&m[a].focus(),
!1;if(!y[a][0].offsetWidth){var e=y[a],b=m[a][0].options.selectedIndex,c=x[0].clientWidth,g=x[0].clientHeight,f=M.scrollLeft(),h=M.scrollTop(),l=k[a][0].getBoundingClientRect(),O=k[a][0].offsetWidth,t=k[a][0].offsetHeight,q=Math.max(O,parseInt(e.attr("data-option-width"))),r,w=l.left+f-x[0].clientLeft,l=l.top+h-x[0].clientTop;r=parseInt(e.attr("data-option-length"));v(a);e.css("visibility","hidden").appendTo(z);void 0===n[a].option.widthminus&&(n[a].option.widthminus=C(e));e.css("width",q);r>=J[a].length?
e.css({height:"",overflow:"hidden"}):e.css("overflow","").css("height",A(a,b,r));r=e[0].offsetHeight;l+t+r>g+h?(l=l-r+n[a].option.upperposition,e.addClass(n[a].option.classname.upper)):(l=l+t+n[a].option.position,e.removeClass(n[a].option.classname.upper));q>O&&w+q>c+f&&(w-=q-O);e.css({left:Math.max(0,w),top:l,width:q-n[a].option.widthminus}).scrollTop(D(a,b))}m[a].click();var e=y[a].stop(!0),b=n[a].effect.show,c=e[0].clientHeight,u;U.test(b)?(e.css("visibility","visible"),"fade"==b?(u={opacity:1},
e.css("opacity",0)):"slide"==b?(u={height:c},e.css({height:0,opacity:1})):"fade&slide"==b&&(u={height:c,opacity:1},e.css({height:0,opacity:0})),!e.hasClass(n[a].option.classname.upper)||"slide"!=b&&"fade&slide"!=b||(u.top=parseInt(e.css("top")),e.css("top",u.top+c)),e.animate(u,V.show)):"function"==typeof b?b.call(e):e.css("visibility","visible");E=a;I[a]=!0;k[a].addClass(n[a].title.classname.active);return!1}function p(a){var b=y[a].stop(!0),c=n[a].effect.hide||n[a].effect.show,d;U.test(c)?("fade"==
c?d={opacity:0}:"slide"==c?d={height:1}:"fade&slide"==c&&(d={height:0,opacity:0}),!b.hasClass(n[a].option.classname.upper)||"slide"!=c&&"fade&slide"!=c||(d.top=b[0].offsetTop+b[0].offsetHeight),b.animate(d,V.hide)):"function"==typeof c?c.call(b):b.detach();E=-1;I[a]=!1;k[a].removeClass(n[a].title.classname.active)}function T(){-1<E&&I[E]&&p(E)}function C(a){return Q&&"border-box"==a.css("boxSizing")?0:(parseInt(a.css("borderLeftWidth"))||0)+(parseInt(a.css("borderRightWidth"))||0)+parseInt(a.css("paddingLeft"))+
parseInt(a.css("paddingRight"))}function A(a,b,c){a=J[a];for(var d=a.length,g=0,f=0,h,k=0;f<d;f++)if("span"==a[f].nodeName.toLowerCase()){if(k==b){f=Math.max(0,Math.min(f,d-c));h=Math.min(f+c,d);break}k++}for(;f<h;f++)(b=a[f].offsetHeight)?g+=b:f--;return g}function D(a,b){return B[a].find("span")[b].offsetTop}function v(a){var c=m[a][0].options.selectedIndex,d=n[a].option,f=[];"ul"!=d.tagname.toLowerCase()&&(f=["<ul>"]);f.push(b(m[a]));"ul"!=d.tagname.toLowerCase()&&f.push("</ul>");B[a].html(f.join(""));
B[a].find("span").each(function(b){b==c&&$(this).addClass(n[a].option.classname.selected);this.onclick=function(a,b){return function(c){var e;b:{for(e=m[a][0].options[b];"select"!=e.nodeName.toLowerCase();){if(e.disabled){e=!0;break b}e=e.parentNode}e=!1}e?R(c):(l(a,b),!L&&m[a].focus());return!1}}(a,b)});B[a].find("strong").click(R);J[a]=B[a].find("strong, span")}function b(a){a=a.children("option, optgroup");for(var e=[],c=0,d=a.length;c<d;c++)e.push("<li"),a[c].disabled&&e.push(' class="disabled"'),
a[c].getAttribute("data-fakeselect-hide")&&e.push(' style="display:none;"'),e.push(">"),"optgroup"==a[c].nodeName.toLowerCase()?(e.push('<strong class="',a[c].className,'">',a[c].label,"</strong>"),e.push("<ul>"),e.push(b($(a[c]))),e.push("</ul>")):e.push('<span class="',a[c].className,'">',a[c].innerHTML,"</span>"),e.push("</li>");return e.join("")}function R(a){a.stopPropagation()}function u(a,b){var c,d;k[a]&&(c=m[a],d=c[0].options,N[a].html(d.length?d[d.selectedIndex].text:""),b&&k[a].css("width",
(c[0].offsetWidth||G(c[0])||n[a].title.defaultwidth)-n[a].title.widthminus))}function G(a){a=a.currentStyle?a.currentStyle.width:document.defaultView.getComputedStyle(a,null).width;return parseInt(a)||0}function q(a){var b=d(a);if(k[b])k[b][a.disabled?"addClass":"removeClass"](n[b].title.classname.disabled)}function S(a){for(;a.children().length;)a=a.children().eq(0);return a}var m=[],k=[],N=[],y=[],B=[],J=[],Y=/^(reset|value|show|hide|remove|disable|enable)$/,U=/^(fade|slide|fade&slide)$/,n=[],I=
[],E=-1,h=-1,P,V={show:{duration:175},hide:{duration:100,complete:W}};$.fn.fakeselect=function(a,b){!a||$.isPlainObject(a)?X(this,a):"string"==typeof a&&Y.test(a)&&this.each(function(){P[a].call(this,b);"reset"!=a&&P.reset.call(this)});return this};P={reset:function(){c.call(this,!0)},value:function(a){this.value=a},show:function(){var a=d(this);$(this).show();k[a]&&(u(a),k[a].show())},hide:function(){var a=d(this);$(this).hide();k[a]&&k[a].hide()},remove:function(){var a=d(this);k[a]&&(k[a].remove(),
y[a].remove(),m[a].removeAttr("data-fakeform-index").css({position:"",left:""}),m[a]=k[a]=N[a]=y[a]=B[a]=J[a]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}};x.bind("click",T);M.bind("resize",T)})()}})();
})(window.jQuery);

