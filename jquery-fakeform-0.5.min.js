
/*
* form 요소에 디자인을 입히기 위한 대체 스크립트
* Alternate script for form elements
* with jQuery
* Info - 
* Demo - 
* License - http://creativecommons.org/licenses/by-sa/2.0/kr/
*/

(function($) {


	// 기본 옵션 설정
	var defaultoptions = {


		// PLACEHOLDER
		'placeholder': {
			// 해당 input에 아래 클래스 추가 또는 제거.
			classname: 'placeholder',
			// placeholder를 지원하는 브라우저에도 사용할 것인지 여부.
			useall: false
		},


		// RADIO
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'radio': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="radio"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'radio',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},

		// CHECKBOX
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'checkbox': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="checkbox"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'checkbox',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},


		// SELECT
		// $().fakeselect() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'select': {

			// 타이틀
			title: {

				// 사용할 태그명
				tagname: 'span',

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 텍스트 지정.
				innerhtml: '<strong></strong>',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-title',
					focus: 'focus',
					active: 'active', // 옵션 레이어가 보일 때
					disabled: 'disabled'
				},

				// 대상 select 요소의 넓이를 확인할 수 없을 때 지정할 넓이
				defaultwidth: 100

			},

			// 옵션 레이어
			option: {

				// 사용할 태그명
				tagname: 'div',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-option',
					show: 'show',
					upper: 'upper', // 레이어가 타이틀 상단에 위치하는 경우 추가될 클래스명
					selected: 'selected', // 선택된 옵션의 span 태그에 지정되는 클래스명
					disabled: 'disabled' // disabled 속성이 지정된 옵션그룹에 지정되는 클래스명
				},

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 아래 형식으로 옵션 목록 지정.
				// <ul>
				// 	<li><span[ class="옵션 태그에 지정된 CSS 클래스명"]> option </span></li>
				// 	<li> 또는 <li>
				// 		<strong[ class="옵션그룹 태그에 지정된 CSS 클래스명"]> optgroup </strong>
				// 		<ul>
				// 			<li><span> option </span></li>
				// 		</ul>
				// 	</li>
				// </ul>
				// * tagname이 'ul'인 경우 최상위 ul 태그는 만들지 않음.
				innerhtml: '',

				// 레이어가 타이틀 하단에 위치하는 경우 포지션
				position: -1,
				// 레이어가 타이틀 상단에 위치하는 경우 포지션
				upperposition: 1,

				// 레이어 넓이를 글자 길이에 맞게 자동으로 지정할 것인지 여부.
				// true 인 경우 select 태그 넓이와, 레이어 넓이 중 큰 값으로 지정.
				// false 인 경우 select 태그 넓이 만큼만 지정.
				autowidth: true,

				// CSS z-index
				zindex: 10,

				// 최대 표시 개수. 이상일 경우 스크롤바 생성.
				maxlength: 5

			},

			// show|hide 효과 지정.
			// 'fade', 'slide', 'fade&slide' 또는 직접 함수 지정( ex) show: function() { ... } ).
			// 직접 지정함수 내 this는 visibility 속성이 'hidden' 처리 된 옵션 레이어 jQuery 객체.
			effect: {
				show: 'fade&slide',
				hide: 'fade&slide'
			},

			// 모바일 환경에서 사용 여부
			useinmobile: true

		}

	};



'use strict';
!function(){function i(){this.parentNode&&this.parentNode.removeChild(this)}function j(a){return parseInt((a.fakeform?a[0]:a).getAttribute(f))}function k(a,b){var c,d,e=defaultoptions[a];if(!b)return e;for(c in e)if("string"==typeof e[c])void 0===b[c]&&(b[c]=b[c]||e[c]);else{b[c]=b[c]||{};for(d in e[c])void 0===b[c][d]&&(b[c][d]=e[c][d])}return b}function l(){d||(d=$('<div style="width:100px;border:1px solid #fff;box-sizing:border-box;" />').appendTo(document.body),h=100==d[0].offsetWidth,d.remove(),d=$(document.body))}if($&&!$.fn.fakeform){var a=void 0!==document.ontouchstart,b=$(window),c=$(document.documentElement),d=null,e=/^[0-9]+$/,f="data-fakeform-index",g="animate",h=null;$.fn.fakeform=function(a,b){return this.filter("select").fakeselect(a,b),this.filter('input[type="radio"], input[type="checkbox"]').fakecheck(a,b),this},function(){function b(b,d){var e,f,g;f=b.getAttribute("placeholder"),g=k("placeholder",d),!f||!g.useall&&a||(e=$(b),e.data({placeholder:f,classname:g.classname}).bind("focus blur",c),c.call(e[0]))}function c(a){var b=$(this),c=b.data("placeholder"),d=b.data("classname"),e=a?a.type:"blur",f=this.value;"focus"!=e||f!=c||this.readOnly?"blur"==e&&(f&&f!=c?b.removeClass(d):(b.addClass(d),this.value=c)):(b.removeClass(d),this.value="")}var a="placeholder"in document.createElement("input");$.fn.fakeplaceholder=function(a){return this.each(function(){$(this).data("placeholder")?c.call(this):b(this,a)})}}(),function(){function l(c,h){for(var j,l,s=0,t=c.length;s<t;s++)d.test(c[s].type)&&!e.test(c[s].getAttribute(f))?(j=c[s].className,i++,l=c[s].type.match(d)[1],currentoptions=g[i]=k(l,h),a[i]=$(c[s]).attr(f,i).css({position:"absolute",left:"-999em"}).change(m).focus(n).blur(o),b[i]=$("<"+currentoptions.tagname+' class="'+currentoptions.classname.base+'" '+f+'="'+i+'" />').mouseenter(n).mouseleave(o).click(r).insertBefore(a[i]),a[i].insertBefore(b[i]),$('label[for="'+a[i].attr("id")+'"]').mouseenter(p).mouseleave(q),j&&b[i].addClass(j),m.call(a[i][0])):$(c[s]).fakecheck("reset")}function m(){var a,c,d,f=j(this);if(e.test(f)&&s(this),"checkbox"==this.type)b[f]&&b[f][this.checked?"addClass":"removeClass"](g[f].classname.checked);else if("radio"==this.type&&this.name)for(a=document.getElementsByName(this.name),c=0,d=a.length;c<d;c++)f=j(a[c]),b[f]&&b[f][a[c].checked?"addClass":"removeClass"](g[f].classname.checked)}function n(){var a=j(this);b[a]&&b[a].addClass(g[a].classname.focus)}function o(){var a=j(this);b[a]&&b[a].removeClass(g[a].classname.focus)}function p(){var a=document.getElementById(this.htmlFor);a&&n.call(a)}function q(){var a=document.getElementById(this.htmlFor);a&&o.call(a)}function r(b){var c=a[j(this)];c[0].disabled||("radio"==c[0].type&&(c[0].checked||(c[0].checked="checked",m.call(c[0]),c.change())),c.trigger("click",b))}function s(a){var c=j(a);b[c]&&b[c][a.disabled?"addClass":"removeClass"](g[c].classname.disabled)}var h,a=[],b=[],c=/^(reset|remove|disable|enable)$/,d=/^(checkbox|radio)$/i,g=[],i=-1;$.fn.fakecheck=function(a){return!a||$.isPlainObject(a)?l(this,a):"string"==typeof a&&c.test(a)&&this.each(function(){h[a].call(this),"reset"!=a&&h.reset.call(this)}),this},h={reset:function(){m.call(this)},remove:function(){var c=j(this);b[c]&&(b[c].remove(),a[c].removeAttr(f).css({position:"",left:""}),a[c]=b[c]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}}}(),function(){function E(b,c){var d,g,h=0,i=b.length;for(l();h<i;h++)e.test(b[h].getAttribute(f))?$(b[h]).fakeselect("reset"):(d=b[h].className,y++,g=v[y]=k("select",c),a&&!g.useinmobile||(m[y]=$(b[h]).attr(f,y).css({position:"absolute",left:"-999em"}).change(F).focus(H).blur(I),n[y]=$("<"+g.title.tagname+' class="'+g.title.classname.base+'" '+f+'="'+y+'" />').html(g.title.innerhtml).bind("mouseover mousemove mouseout mousedown mouseup mouseenter mouseleave",J).click(L).insertBefore(m[y]),"none"==m[y].css("display")&&n[y].hide(),g.title.widthminus=P(n[y]),o[y]=ba(n[y]),m[y].insertBefore(n[y]),n[y].before(" "),p[y]=$("<"+g.option.tagname+' class="'+g.option.classname.base+'" '+A+'="'+(m[y].attr(A)||(g.option.autowidth?"auto":0))+'" '+B+'="'+(m[y].attr(B)||g.option.maxlength)+'" />').css({position:"absolute",zIndex:g.option.zindex}).html(g.option.innerhtml),q[y]=ba(p[y]),d&&(n[y].addClass(d),p[y].addClass(d)),m[y].removeAttr(A).removeAttr(B),Y(y,!0),_(m[y][0]),aa(m[y][0])))}function F(a){var b=j(this);e.test(b)&&(_(this),aa(this),Y(b,a===!0))}function G(a,b){m[a][0].options[b].selected="selected",m[a].change()}function H(a){var b=j(this);n[b]&&(n[b].addClass(v[b].title.classname.focus),s=n[b])}function I(a){var b=j(this);n[b]&&n[b].removeClass(v[b].title.classname.focus),s=null}function J(a){var b=j(this);m[b][a.type]()}function K(a){var c,d,e,f,b=a.keyCode;if(32==b){if(s)return s.click(),!1;if(x>-1)return O(),!1}else if(38==b||40==b){if(c=x>-1?x:s?j(s):-1,c>-1&&!m[c][0].getAttribute("readonly")){if(d=m[c][0].options,e=f=d.selectedIndex,38==b&&e>0)for(f=e-1;f>-1&&(X(d[f])||d[f].getAttribute(z));)f--;else if(40==b&&d.length-1>e)for(f=e+1;d.length>f&&(X(d[f])||d[f].getAttribute(z));)f++;return f!=e&&d[f]&&(G(c,f),x>-1&&(q[c].find("span").removeClass(v[c].option.classname.selected),S(c,d.selectedIndex))),!1}}else 9!=b&&13!=b&&27!=b||O()}function L(a){var b=j(this);return!m[b][0].disabled&&!m[b][0].getAttribute("readonly")&&(w[b]?(N(b),!1):(p[b][0].offsetWidth||Q(b),m[b].click(),M(b),!1))}function M(a){var e,b=p[a],c=v[a].effect.show,d=b[0].clientHeight;b.css("height","").stop(!0),u.test(c)?(b.css("visibility","visible"),"fade"==c?(e={opacity:1},b.css({height:d,opacity:0})):"slide"==c?(e={height:d},b.css({height:0,opacity:1})):"fade&slide"==c&&(e={height:d,opacity:1},b.css({height:0,opacity:0})),!b.hasClass(v[a].option.classname.upper)||"slide"!=c&&"fade&slide"!=c||(e.top=parseInt(b.css("top")),b.css("top",e.top+d)),b[g](e,D.show)):(b.css({height:d,visibility:"visible"}),"function"==typeof c&&c.call(b)),x=a,w[a]=!0,n[a].addClass(v[a].title.classname.active)}function N(b){var e,c=p[b].stop(!0),d=v[b].effect.hide||v[b].effect.show;u.test(d)?("fade"==d?e={opacity:0}:"slide"==d?e={height:1}:"fade&slide"==d&&(e={height:0,opacity:0}),!c.hasClass(v[b].option.classname.upper)||"slide"!=d&&"fade&slide"!=d||(e.top=c[0].offsetTop+c[0].offsetHeight),c[g](e,D.hide)):"function"==typeof d?d.call(c):c.detach(),x=-1,w[b]=!1,n[b].removeClass(v[b].title.classname.active),!a&&m[b].focus()}function O(){x>-1&&w[x]&&N(x)}function P(a){return h&&"border-box"==a.css("boxSizing")?0:(parseInt(a.css("borderLeftWidth"))||0)+(parseInt(a.css("borderRightWidth"))||0)+parseInt(a.css("paddingLeft"))+parseInt(a.css("paddingRight"))}function Q(a){var s,e=p[a],f=m[a][0].options.selectedIndex,g=c[0].clientWidth,h=c[0].clientHeight,i=b.scrollLeft(),j=b.scrollTop(),k=n[a][0].getBoundingClientRect(),l=n[a][0].offsetWidth,o=n[a][0].offsetHeight,q=e.attr(A),t=k.left+i-c[0].clientLeft,u=k.top+j-c[0].clientTop,w=parseInt(e.attr(B));T(a),e.css({width:"",visibility:"hidden"}).appendTo(d),q=Math.max(l,"auto"==q?e[0].offsetWidth:parseInt(q)),void 0===v[a].option.widthminus&&(v[a].option.widthminus=P(e)),w>=r[a].length?e.css({height:"",overflow:"hidden"}):e.css("overflow","").css("height",R(a,f,w)),s=e[0].offsetHeight,u+o+s>h+j?(u=u-s+v[a].option.upperposition,e.addClass(v[a].option.classname.upper)):(u=u+o+v[a].option.position,e.removeClass(v[a].option.classname.upper)),q>l&&t+q>g+i&&(t-=q-l),e.css({left:Math.max(0,t),top:u,width:q-v[a].option.widthminus}),S(a,f)}function R(a,b,c){for(var g,i,d=r[a],e=d.length,f=0,h=0,j=0;h<e;h++)if("span"==d[h].nodeName.toLowerCase()){if(j==b){h=Math.max(0,Math.min(h,e-c)),i=Math.min(h+c,e);break}j++}for(;h<i;h++)g=d[h].offsetHeight,g?f+=g:h--;return f}function S(a,b){var c=p[a],d=q[a].find("span").eq(b);d.addClass(v[a].option.classname.selected),0>d[0].offsetTop-c[0].scrollTop?c[0].scrollTop=d[0].offsetTop:d[0].offsetTop+d[0].offsetHeight>c[0].offsetHeight+c[0].scrollTop&&(c[0].scrollTop=d[0].offsetTop+d[0].offsetHeight-c[0].offsetHeight)}function T(a){var c=(m[a][0].options.selectedIndex,v[a].option),d=[];"ul"!=c.tagname.toLowerCase()&&(d=["<ul>"]),d.push(U(m[a])),"ul"!=c.tagname.toLowerCase()&&d.push("</ul>"),q[a].html(d.join("")),q[a].find("span").each(function(b){this.onclick=function(a,b){return function(c){return V(c,a,b)}}(a,b)}),q[a].find("strong").click(W),r[a]=q[a].find("strong, span")}function U(a){for(var b=a.children("option, optgroup"),c=[],d=0,e=b.length;d<e;d++)c.push("<li"),b[d].disabled&&c.push(' class="disabled"'),b[d].getAttribute(z)&&c.push(' style="display:none;"'),c.push(">"),"optgroup"==b[d].nodeName.toLowerCase()?(c.push('<strong class="',b[d].className,'">',b[d].label,"</strong>"),c.push("<ul>"),c.push(U($(b[d]))),c.push("</ul>")):c.push('<span class="',b[d].className,'">',b[d].innerHTML,"</span>"),c.push("</li>");return c.join("")}function V(a,b,c){return X(m[b][0].options[c])?(W(a),!1):(G(b,c),!1)}function W(a){a.stopPropagation()}function X(a){for(;"select"!=a.nodeName.toLowerCase();){if(a.disabled)return!0;a=a.parentNode}return!1}function Y(a,b){var c,d;n[a]&&(c=m[a],d=c[0].options,o[a].html(d.length?d[d.selectedIndex].text.replace(/</g,"&lt;"):""),b&&n[a].css("width",(c[0].offsetWidth||Z(c[0])||v[a].title.defaultwidth)-v[a].title.widthminus))}function Z(a){var b="width",c=a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,null)[b];return parseInt(c)||0}function _(a){var b=j(a);n[b]&&n[b][a.disabled?"addClass":"removeClass"](v[b].title.classname.disabled)}function aa(a){var b=j(a);n[b]&&n[b][a.getAttribute("readonly")?"addClass":"removeClass"](v[b].title.classname.readonly)}function ba(a){for(;a.children().length;)a=a.children().eq(0);return a}var C,m=[],n=[],o=[],p=[],q=[],r=[],s=null,t=/^(reset|value|show|hide|remove|disable|enable)$/,u=/^(fade|slide|fade&slide)$/,v=[],w=[],x=-1,y=-1,z="data-fakeselect-hide",A="data-option-width",B="data-option-length",D={show:{duration:175},hide:{duration:100,complete:i}};$.fn.fakeselect=function(a,b){return!a||$.isPlainObject(a)?E(this,a):"string"==typeof a&&t.test(a)&&this.each(function(){C[a].call(this,b),"reset"!=a&&C.reset.call(this)}),this},C={reset:function(){F.call(this,!0)},value:function(a){this.value=a},show:function(){var a=j(this);$(this).show(),n[a]&&(Y(a),n[a].show())},hide:function(){var a=j(this);$(this).hide(),n[a]&&n[a].hide()},remove:function(){var a=j(this);n[a]&&(n[a].remove(),p[a].remove(),m[a].removeAttr(f).css({position:"",left:""}),m[a]=n[a]=o[a]=p[a]=q[a]=r[a]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}},c.bind("keydown",K),c.bind("click",O),b.bind("resize",O)}()}}();
})(window.jQuery);