
/*
* form 요소에 디자인을 입히기 위한 대체 스크립트
* Alternate script for form elements
* with jQuery
* Info - 
* Demo - 
* License - http://creativecommons.org/licenses/by-sa/2.0/kr/
*/

(function($) {


	// 기본 옵션 설정
	var defaultoptions = {


		// PLACEHOLDER
		'placeholder': {
			// 해당 input에 아래 클래스 추가 또는 제거.
			classname: 'placeholder',
			// placeholder를 지원하는 브라우저에도 사용할 것인지 여부.
			useall: false
		},


		// RADIO
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'radio': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="radio"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'radio',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},

		// CHECKBOX
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'checkbox': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="checkbox"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'checkbox',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},


		// SELECT
		// $().fakeselect() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'select': {

			// 타이틀
			title: {

				// 사용할 태그명
				tagname: 'span',

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 텍스트 지정.
				innerhtml: '<strong></strong>',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-title',
					focus: 'focus',
					active: 'active', // 옵션 레이어가 보일 때
					disabled: 'disabled'
				},

				// 대상 select 요소의 넓이를 확인할 수 없을 때 지정할 넓이
				defaultwidth: 100

			},

			// 옵션 레이어
			option: {

				// 사용할 태그명
				tagname: 'div',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-option',
					show: 'show',
					upper: 'upper', // 레이어가 타이틀 상단에 위치하는 경우 추가될 클래스명
					selected: 'selected', // 선택된 옵션의 span 태그에 지정되는 클래스명
					disabled: 'disabled' // disabled 속성이 지정된 옵션그룹에 지정되는 클래스명
				},

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 아래 형식으로 옵션 목록 지정.
				// <ul>
				// 	<li><span[ class="옵션 태그에 지정된 CSS 클래스명"]> option </span></li>
				// 	<li> 또는 <li>
				// 		<strong[ class="옵션그룹 태그에 지정된 CSS 클래스명"]> optgroup </strong>
				// 		<ul>
				// 			<li><span> option </span></li>
				// 		</ul>
				// 	</li>
				// </ul>
				// * tagname이 'ul'인 경우 최상위 ul 태그는 만들지 않음.
				innerhtml: '',

				// 레이어가 타이틀 하단에 위치하는 경우 포지션
				position: -1,
				// 레이어가 타이틀 상단에 위치하는 경우 포지션
				upperposition: 1,

				// 레이어 넓이를 글자 길이에 맞게 자동으로 지정할 것인지 여부.
				// true 인 경우 select 태그 넓이와, 레이어 넓이 중 큰 값으로 지정.
				// false 인 경우 select 태그 넓이 만큼만 지정.
				autowidth: true,

				// CSS z-index
				zindex: 10,

				// 최대 표시 개수. 이상일 경우 스크롤바 생성.
				maxlength: 5

			},

			// show|hide 효과 지정.
			// 'fade', 'slide', 'fade&slide' 또는 직접 함수 지정( ex) show: function() { ... } ).
			// 직접 지정함수 내 this는 visibility 속성이 'hidden' 처리 된 옵션 레이어 jQuery 객체.
			effect: {
				show: 'fade&slide',
				hide: 'fade&slide'
			},

			// 모바일 환경에서 사용 여부
			useinmobile: true

		}

	}



'use strict';
(function(){function V(){this.parentNode&&this.parentNode.removeChild(this)}function c(c){return parseInt((c.fakeform?c[0]:c).getAttribute("data-fakeform-index"))}function K(c,e){var g,q,k=defaultoptions[c];if(!e)return k;for(g in k)if("string"==typeof k[g])void 0===e[g]&&(e[g]=e[g]||k[g]);else for(q in e[g]=e[g]||{},k[g])void 0===e[g][q]&&(e[g][q]=k[g][q]);return e}if($&&!$.fn.fakeform){var L=void 0!==document.ontouchstart,M=$(window),y=$(document.documentElement),A=null,G=/^[0-9]+$/,P=null;$.fn.fakeform=
function(c,e){this.filter("select").fakeselect(c,e);this.filter('input[type="radio"], input[type="checkbox"]').fakecheck(c,e);this.filter("textarea, input").not('[type="radio"], [type="checkbox"]').fakeplaceholder(c,e);return this};(function(){function c(g){var e=$(this),k=e.data("placeholder"),u=e.data("classname");g=g?g.type:"blur";var x=this.value;"focus"!=g||x!=k||this.readOnly?"blur"==g&&(x&&x!=k?e.removeClass(u):(e.addClass(u),this.value=k)):(e.removeClass(u),this.value="")}var e="placeholder"in
document.createElement("input");$.fn.fakeplaceholder=function(g){return this.each(function(){if($(this).data("placeholder"))c.call(this);else{var q,k,u;k=this.getAttribute("placeholder");u=K("placeholder",g);!k||!u.useall&&e||(q=$(this),q.data({placeholder:k,classname:u.classname}).bind("focus blur",c),c.call(q[0]))}})}})();(function(){function A(b,c){for(var v,H,r=0,y=b.length;r<y;r++)!D.test(b[r].type)||G.test(b[r].getAttribute("data-fakeform-index"))?$(b[r]).fakecheck("reset"):(v=b[r].className,
w++,H=b[r].type.match(D)[1],currentoptions=B[w]=K(H,c),t[w]=$(b[r]).attr("data-fakeform-index",w).css({position:"absolute",left:"-999em"}).change(e).focus(g).blur(q),p[w]=$("<"+currentoptions.tagname+' class="'+currentoptions.classname.base+'" data-fakeform-index="'+w+'" />').mouseenter(g).mouseleave(q).click(x).insertBefore(t[w]),t[w].insertBefore(p[w]),$('label[for="'+t[w].attr("id")+'"]').mouseenter(k).mouseleave(u),v&&p[w].addClass(v),e.call(t[w][0]))}function e(){var b,e,g,k=c(this);if(G.test(k)&&
(b=c(this),p[b]))p[b][this.disabled?"addClass":"removeClass"](B[b].classname.disabled);if("checkbox"==this.type)p[k]&&p[k][this.checked?"addClass":"removeClass"](B[k].classname.checked);else if("radio"==this.type&&this.form&&this.name)for(b=this.form[this.name],e=0,g=b.length;e<g;e++)k=c(b[e]),p[k]&&p[k][b[e].checked?"addClass":"removeClass"](B[k].classname.checked)}function g(){var b=c(this);p[b]&&p[b].addClass(B[b].classname.focus)}function q(){var b=c(this);p[b]&&p[b].removeClass(B[b].classname.focus)}
function k(){var b=document.getElementById(this.htmlFor);b&&g.call(b)}function u(){var b=document.getElementById(this.htmlFor);b&&q.call(b)}function x(){var b=t[c(this)];b[0].disabled||("radio"==b[0].type&&(b[0].checked="checked",e.call(b[0])),b.click());return!1}var t=[],p=[],y=/^(reset|remove|disable|enable)$/,D=/^(checkbox|radio)$/i,B=[],E,w=-1;$.fn.fakecheck=function(b){!b||$.isPlainObject(b)?A(this,b):"string"==typeof b&&y.test(b)&&this.each(function(){E[b].call(this);"reset"!=b&&E.reset.call(this)});
return this};E={reset:function(){e.call(this)},remove:function(){var b=c(this);p[b]&&(p[b].remove(),t[b].removeAttr("data-fakeform-index").css({position:"",left:""}),t[b]=p[b]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}}})();(function(){function W(a,f){var b,h,c=0,p=a.length;A||(A=$('<div style="width:100px;border:1px solid #fff;box-sizing:border-box;" />').appendTo(document.body),P=100==A[0].offsetWidth,A.remove(),A=$(document.body));for(;c<
p;c++)if(G.test(a[c].getAttribute("data-fakeform-index")))$(a[c]).fakeselect("reset");else if(b=a[c].className,d++,h=n[d]=K("select",f),!L||h.useinmobile)m[d]=$(a[c]).attr("data-fakeform-index",d).css({position:"absolute",left:"-999em"}).change(e).keydown(g).focus(k).blur(u),l[d]=$("<"+h.title.tagname+' class="'+h.title.classname.base+'" data-fakeform-index="'+d+'" />').html(h.title.innerhtml).bind("mouseover mousemove mouseout mousedown mouseup mouseenter mouseleave",x).click(t).insertBefore(m[d]),
"none"==m[d].css("display")&&l[d].hide(),h.title.widthminus=D(l[d]),N[d]=R(l[d]),m[d].insertBefore(l[d]),l[d].before(" "),z[d]=$("<"+h.option.tagname+' class="'+h.option.classname.base+'" data-option-width="'+(m[d].attr("data-option-width")||(h.option.autowidth?"auto":0))+'" data-option-length="'+(m[d].attr("data-option-length")||h.option.maxlength)+'" />').css({position:"absolute",zIndex:h.option.zindex}).html(h.option.innerhtml),C[d]=R(z[d]),b&&(l[d].addClass(b),z[d].addClass(b)),m[d].removeAttr("data-option-width").removeAttr("data-option-length"),
v(d,!0),r(m[d][0])}function e(a){var f=c(this);G.test(f)&&(r(this),v(f,!0===a))}function g(a){a=a.keyCode;var f,b,h;if(38==a||40==a)return f=c(this),b=m[f][0].options,h=b.selectedIndex,38==a&&0<h?q(f,h-1):40==a&&b.length-1>h&&q(f,h+1),!1}function q(a,f){m[a][0].options[f].selected="selected";m[a].change()}function k(a){a=c(this);l[a]&&l[a].addClass(n[a].title.classname.focus)}function u(a){a=c(this);l[a]&&l[a].removeClass(n[a].title.classname.focus)}function x(a){var f=c(this);m[f][a.type]()}function t(a){a=
c(this);if(m[a][0].disabled)return!1;if(I[a])return p(a),!L&&m[a].focus(),!1;if(!z[a][0].offsetWidth){var f=z[a],b=m[a][0].options.selectedIndex,h=y[0].clientWidth,e=y[0].clientHeight,g=M.scrollLeft(),k=M.scrollTop(),d=l[a][0].getBoundingClientRect(),q=l[a][0].offsetWidth,u=l[a][0].offsetHeight,r=f.attr("data-option-width"),t,x=d.left+g-y[0].clientLeft,d=d.top+k-y[0].clientTop;t=parseInt(f.attr("data-option-length"));w(a);f.css("visibility","hidden").appendTo(A);r=Math.max(q,"auto"==r?f[0].offsetWidth:
parseInt(r));void 0===n[a].option.widthminus&&(n[a].option.widthminus=D(f));t>=J[a].length?f.css({height:"",overflow:"hidden"}):f.css("overflow","").css("height",B(a,b,t));t=f[0].offsetHeight;d+u+t>e+k?(d=d-t+n[a].option.upperposition,f.addClass(n[a].option.classname.upper)):(d=d+u+n[a].option.position,f.removeClass(n[a].option.classname.upper));r>q&&x+r>h+g&&(x-=r-q);f.css({left:Math.max(0,x),top:d,width:r-n[a].option.widthminus}).scrollTop(E(a,b))}m[a].click();var f=z[a].stop(!0),b=n[a].effect.show,
h=f[0].clientHeight,v;T.test(b)?(f.css("visibility","visible"),"fade"==b?(v={opacity:1},f.css("opacity",0)):"slide"==b?(v={height:h},f.css({height:0,opacity:1})):"fade&slide"==b&&(v={height:h,opacity:1},f.css({height:0,opacity:0})),!f.hasClass(n[a].option.classname.upper)||"slide"!=b&&"fade&slide"!=b||(v.top=parseInt(f.css("top")),f.css("top",v.top+h)),f.animate(v,U.show)):"function"==typeof b?b.call(f):f.css("visibility","visible");F=a;I[a]=!0;l[a].addClass(n[a].title.classname.active);return!1}
function p(a){var b=z[a].stop(!0),c=n[a].effect.hide||n[a].effect.show,h;T.test(c)?("fade"==c?h={opacity:0}:"slide"==c?h={height:1}:"fade&slide"==c&&(h={height:0,opacity:0}),!b.hasClass(n[a].option.classname.upper)||"slide"!=c&&"fade&slide"!=c||(h.top=b[0].offsetTop+b[0].offsetHeight),b.animate(h,U.hide)):"function"==typeof c?c.call(b):b.detach();F=-1;I[a]=!1;l[a].removeClass(n[a].title.classname.active)}function S(){-1<F&&I[F]&&p(F)}function D(a){return P&&"border-box"==a.css("boxSizing")?0:(parseInt(a.css("borderLeftWidth"))||
0)+(parseInt(a.css("borderRightWidth"))||0)+parseInt(a.css("paddingLeft"))+parseInt(a.css("paddingRight"))}function B(a,b,c){a=J[a];for(var h=a.length,e=0,d=0,g,k=0;d<h;d++)if("span"==a[d].nodeName.toLowerCase()){if(k==b){d=Math.max(0,Math.min(d,h-c));g=Math.min(d+c,h);break}k++}for(;d<g;d++)(b=a[d].offsetHeight)?e+=b:d--;return e}function E(a,b){return C[a].find("span")[b].offsetTop}function w(a){var f=m[a][0].options.selectedIndex,c=n[a].option,d=[];"ul"!=c.tagname.toLowerCase()&&(d=["<ul>"]);d.push(b(m[a]));
"ul"!=c.tagname.toLowerCase()&&d.push("</ul>");C[a].html(d.join(""));C[a].find("span").each(function(b){b==f&&$(this).addClass(n[a].option.classname.selected);this.onclick=function(a,b){return function(f){var c;b:{for(c=m[a][0].options[b];"select"!=c.nodeName.toLowerCase();){if(c.disabled){c=!0;break b}c=c.parentNode}c=!1}c?Q(f):(q(a,b),!L&&m[a].focus());return!1}}(a,b)});C[a].find("strong").click(Q);J[a]=C[a].find("strong, span")}function b(a){a=a.children("option, optgroup");for(var c=[],d=0,e=
a.length;d<e;d++)c.push("<li"),a[d].disabled&&c.push(' class="disabled"'),a[d].getAttribute("data-fakeselect-hide")&&c.push(' style="display:none;"'),c.push(">"),"optgroup"==a[d].nodeName.toLowerCase()?(c.push('<strong class="',a[d].className,'">',a[d].label,"</strong>"),c.push("<ul>"),c.push(b($(a[d]))),c.push("</ul>")):c.push('<span class="',a[d].className,'">',a[d].innerHTML,"</span>"),c.push("</li>");return c.join("")}function Q(a){a.stopPropagation()}function v(a,b){var c,d;l[a]&&(c=m[a],d=c[0].options,
N[a].html(d.length?d[d.selectedIndex].text.replace(/</g,"&lt;"):""),b&&l[a].css("width",(c[0].offsetWidth||H(c[0])||n[a].title.defaultwidth)-n[a].title.widthminus))}function H(a){a=a.currentStyle?a.currentStyle.width:document.defaultView.getComputedStyle(a,null).width;return parseInt(a)||0}function r(a){var b=c(a);if(l[b])l[b][a.disabled?"addClass":"removeClass"](n[b].title.classname.disabled)}function R(a){for(;a.children().length;)a=a.children().eq(0);return a}var m=[],l=[],N=[],z=[],C=[],J=[],
X=/^(reset|value|show|hide|remove|disable|enable)$/,T=/^(fade|slide|fade&slide)$/,n=[],I=[],F=-1,d=-1,O,U={show:{duration:175},hide:{duration:100,complete:V}};$.fn.fakeselect=function(a,b){!a||$.isPlainObject(a)?W(this,a):"string"==typeof a&&X.test(a)&&this.each(function(){O[a].call(this,b);"reset"!=a&&O.reset.call(this)});return this};O={reset:function(){e.call(this,!0)},value:function(a){this.value=a},show:function(){var a=c(this);$(this).show();l[a]&&(v(a),l[a].show())},hide:function(){var a=c(this);
$(this).hide();l[a]&&l[a].hide()},remove:function(){var a=c(this);l[a]&&(l[a].remove(),z[a].remove(),m[a].removeAttr("data-fakeform-index").css({position:"",left:""}),m[a]=l[a]=N[a]=z[a]=C[a]=J[a]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}};y.bind("click",S);M.bind("resize",S)})()}})();
})(window.jQuery);