
/*
* form 요소에 디자인을 입히기 위한 대체 스크립트
* Alternate script for form elements
* with jQuery
* Info - 
* Demo - 
* License - http://creativecommons.org/licenses/by-sa/2.0/kr/
*/

(function($) {


	// 기본 옵션 설정
	var defaultoptions = {


		// PLACEHOLDER
		'placeholder': {
			// 해당 input에 아래 클래스 추가 또는 제거.
			classname: 'placeholder',
			// placeholder를 지원하는 브라우저에도 사용할 것인지 여부.
			useall: false
		},


		// RADIO
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'radio': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="radio"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'radio',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},

		// CHECKBOX
		// $().fakecheck() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'checkbox': {
			// 사용할 태그명
			tagname: 'span',
			// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
			// 해당 input[type="checkbox"] 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
			classname: {
				base: 'checkbox',
				focus: 'focus',
				checked: 'checked',
				disabled: 'disabled'
			}
		},


		// SELECT
		// $().fakeselect() 실행시 별도로 필요한 옵션 객체를 지정할 수 있고, 지정되지 않았을 경우 기본 옵션을 따름.
		'select': {

			// 타이틀
			title: {

				// 사용할 태그명
				tagname: 'span',

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 텍스트 지정.
				innerhtml: '<strong></strong>',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-title',
					focus: 'focus',
					active: 'active', // 옵션 레이어가 보일 때
					disabled: 'disabled'
				},

				// 대상 select 요소의 넓이를 확인할 수 없을 때 지정할 넓이
				defaultwidth: 100

			},

			// 옵션 레이어
			option: {

				// 사용할 태그명
				tagname: 'div',

				// CSS 클래스명. base 클래스명에 나머지 클래스명이 추가 또는 제거.
				// 해당 select 태그에 별도 클래스명이 지정된 경우 해당 클래스명을 추가.
				classname: {
					base: 'select-option',
					show: 'show',
					upper: 'upper', // 레이어가 타이틀 상단에 위치하는 경우 추가될 클래스명
					selected: 'selected', // 선택된 옵션의 span 태그에 지정되는 클래스명
					disabled: 'disabled' // disabled 속성이 지정된 옵션그룹에 지정되는 클래스명
				},

				// 내부에 넣을 HTML.
				// 지정되면 제일 안쪽 자식(childNodes[0])에 아래 형식으로 옵션 목록 지정.
				// <ul>
				// 	<li><span[ class="옵션 태그에 지정된 CSS 클래스명"]> option </span></li>
				// 	<li> 또는 <li>
				// 		<strong[ class="옵션그룹 태그에 지정된 CSS 클래스명"]> optgroup </strong>
				// 		<ul>
				// 			<li><span> option </span></li>
				// 		</ul>
				// 	</li>
				// </ul>
				// * tagname이 'ul'인 경우 최상위 ul 태그는 만들지 않음.
				innerhtml: '',

				// 레이어가 타이틀 하단에 위치하는 경우 포지션
				position: -1,
				// 레이어가 타이틀 상단에 위치하는 경우 포지션
				upperposition: 1,

				// CSS z-index
				zindex: 10,

				// 최대 표시 개수. 이상일 경우 스크롤바 생성.
				maxlength: 5

			},

			// show|hide 효과 지정.
			// 'fade', 'slide', 'fade&slide' 또는 직접 함수 지정( ex) show: function() { ... } ).
			// 직접 지정함수 내 this는 visibility 속성이 'hidden' 처리 된 옵션 레이어 jQuery 객체.
			effect: {
				show: 'fade&slide',
				hide: 'fade&slide'
			},

			// 모바일 환경에서 사용 여부
			useinmobile: true

		}

	}

'use strict';
(function(){function U(){this.parentNode&&this.parentNode.removeChild(this)}function d(d){return parseInt(d.getAttribute("data-fakeform-index"))}function K(d,c){var e,l,k=defaultoptions[d];if(!c)return k;for(e in k)if("string"==typeof e)void 0===c[e]&&(c[e]=c[e]||k[e]);else for(l in c[e]=c[e]||{},k[e])void 0===c[e][l]&&(c[e][l]=k[e][l]);return c}if($&&!$.fn.fakeform){var L=void 0!==document.ontouchstart,M=$(window),A=$(document.documentElement),y=null,F=/^[0-9]+$/,Q=null;$.fn.fakeform=function(d,
c){this.filter("select").fakeselect(d,c);this.filter('input[type="radio"], input[type="checkbox"]').fakecheck(d,c);this.filter("textarea, input").not('[type="radio"], [type="checkbox"]').fakeplaceholder(d,c);return this};(function(){function d(e){var c=$(this),k=c.data("placeholder"),u=c.data("classname");e=e?e.type:"blur";var w=this.value;"focus"!=e||w!=k||this.readOnly?"blur"==e&&(w&&w!=k?c.removeClass(u):(c.addClass(u),this.value=k)):(c.removeClass(u),this.value="")}var c="placeholder"in document.createElement("input");
$.fn.fakeplaceholder=function(e){return this.each(function(){if($(this).data("placeholder"))d.call(this);else{var l,k,u;k=this.getAttribute("placeholder");u=K("placeholder",e);!k||!u.useall&&c||(l=$(this),l.data({placeholder:k,classname:u.classname}).removeAttr("placeholder").bind("focus blur",d),d.call(l[0]))}})}})();(function(){function y(b,d){for(var B,C,r=0,m=b.length;r<m;r++)!G.test(b[r].type)||F.test(b[r].getAttribute("data-fakeform-index"))?$(b[r]).fakecheck("reset"):(B=b[r].className,q++,
C=b[r].type.match(G)[1],currentoptions=z[q]=K(C,d),t[q]=$(b[r]).attr("data-fakeform-index",q).css({position:"absolute",left:"-999em"}).change(c).focus(e).blur(l),p[q]=$("<"+currentoptions.tagname+' class="'+currentoptions.classname.base+'" data-fakeform-index="'+q+'" />').mouseenter(e).mouseleave(l).click(w).insertBefore(t[q]),t[q].insertBefore(p[q]),$('label[for="'+t[q].attr("id")+'"]').mouseenter(k).mouseleave(u),B&&p[q].addClass(B),c.call(t[q][0]))}function c(){var b,c,e,k=d(this);if(F.test(k)&&
(b=d(this),p[b]))p[b][this.disabled?"addClass":"removeClass"](z[b].classname.disabled);if("checkbox"==this.type)p[k]&&p[k][this.checked?"addClass":"removeClass"](z[k].classname.checked);else if("radio"==this.type&&this.form&&this.name)for(b=this.form[this.name],c=0,e=b.length;c<e;c++)k=d(b[c]),p[k]&&p[k][b[c].checked?"addClass":"removeClass"](z[k].classname.checked)}function e(){var b=d(this);p[b]&&p[b].addClass(z[b].classname.focus)}function l(){var b=d(this);p[b]&&p[b].removeClass(z[b].classname.focus)}
function k(){e.call($("#"+this.htmlFor)[0])}function u(){l.call($("#"+this.htmlFor)[0])}function w(){var b=t[d(this)];b[0].disabled||("radio"==b[0].type&&(b[0].checked="checked",c.call(b[0])),b.click())}var t=[],p=[],A=/^(reset|remove|disable|enable)$/,G=/^(checkbox|radio)$/i,z=[],D,q=-1;$.fn.fakecheck=function(b){!b||$.isPlainObject(b)?y(this,b):"string"==typeof b&&A.test(b)&&this.each(function(){D[b].call(this);"reset"!=b&&D.reset.call(this)});return this};D={reset:function(){c.call(this)},remove:function(){var b=
d(this);p[b]&&(p[b].remove(),t[b].removeAttr("data-fakeform-index").css({position:"",left:""}),t[b]=p[b]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}}})();(function(){function V(a,f){var H,b,d=0,p=a.length;y||(y=$('<div style="width:100px;border:1px solid #fff;box-sizing:border-box;" />').appendTo(document.body),Q=100==y[0].offsetWidth,y.remove(),y=$(document.body));for(;d<p;d++)if(F.test(a[d].getAttribute("data-fakeform-index")))$(a[d]).fakeselect("reset");
else if(H=a[d].className,g++,b=n[g]=K("select",f),!L||b.useinmobile)m[g]=$(a[d]).attr("data-fakeform-index",g).css({position:"absolute",left:"-999em"}).change(c).keydown(e).focus(k).blur(u),h[g]=$("<"+b.title.tagname+' class="'+b.title.classname.base+'" data-fakeform-index="'+g+'" />').html(b.title.innerhtml).bind("mouseover mousemove mouseout mousedown mouseup mouseenter mouseleave",w).click(t).insertBefore(m[g]),"none"==m[g].css("display")&&h[g].hide(),b.title.widthminus=Q&&"border-box"==h[g].css("boxSizing")?
0:(parseInt(h[g].css("borderLeftWidth"))||0)+(parseInt(h[g].css("borderRightWidth"))||0)+parseInt(h[g].css("paddingLeft"))+parseInt(h[g].css("paddingRight")),O[g]=r(h[g]),m[g].insertBefore(h[g]),h[g].before(" "),x[g]=$("<"+b.option.tagname+' class="'+b.option.classname.base+'" data-option-width="'+(m[g].attr("data-option-width")||0)+'" data-option-length="'+(m[g].attr("data-option-length")||b.option.maxlength)+'" />').css({position:"absolute",zIndex:b.option.zindex}).html(b.option.innerhtml),v[g]=
r(x[g]),H&&(h[g].addClass(H),x[g].addClass(H)),m[g].removeAttr("data-option-width").removeAttr("data-option-length"),N(g,!0),C(m[g][0])}function c(a){var f=d(this);F.test(f)&&(C(this),N(f,!0===a))}function e(a){a=a.keyCode;var f,b,c;if(38==a||40==a)return f=d(this),b=m[f][0].options,c=b.selectedIndex,38==a&&0<c?l(f,c-1):40==a&&b.length-1>c&&l(f,c+1),!1}function l(a,f){m[a][0].options[f].selected="selected";m[a].change()}function k(a){a=d(this);h[a]&&h[a].addClass(n[a].title.classname.focus)}function u(a){a=
d(this);h[a]&&h[a].removeClass(n[a].title.classname.focus)}function w(a){var f=d(this);m[f][a.type]()}function t(a){a=d(this);if(m[a][0].disabled)return!1;if(I[a])return p(a),!L&&m[a].focus(),!1;if(!x[a][0].offsetWidth){var f=x[a],b=m[a][0].options.selectedIndex,c=A[0].clientWidth,e=A[0].clientHeight,g=M.scrollLeft(),k=M.scrollTop(),l=h[a][0].getBoundingClientRect(),q=h[a][0].offsetWidth,u=h[a][0].offsetHeight,r=Math.max(q,parseInt(f.attr("data-option-width"))),t,w=l.left+g-A[0].clientLeft,l=l.top+
k-A[0].clientTop;t=parseInt(f.attr("data-option-length"));D(a);f.css("visibility","hidden").appendTo(y);void 0===n[a].option.widthminus&&(n[a].option.widthminus=f[0].offsetWidth-f[0].clientWidth);f.css("width",r);t>=J[a].length?f.css({height:"",overflow:"hidden"}):f.css("overflow","").css("height",G(a,b,t));t=f[0].offsetHeight;l+u+t>e+k?(l=l-t+n[a].option.upperposition,f.addClass(n[a].option.classname.upper)):(l=l+u+n[a].option.position,f.removeClass(n[a].option.classname.upper));r>q&&w+r>c+g&&(w-=
r-q);f.css({left:Math.max(0,w),top:l,width:r-n[a].option.widthminus}).scrollTop(z(a,b))}m[a].click();var f=x[a].stop(!0),b=n[a].effect.show,c=f[0].clientHeight,v;S.test(b)?(f.css("visibility","visible"),"fade"==b?(v={opacity:1},f.css("opacity",0)):"slide"==b?(v={height:c},f.css({height:0,opacity:1})):"fade&slide"==b&&(v={height:c,opacity:1},f.css({height:0,opacity:0})),!f.hasClass(n[a].option.classname.upper)||"slide"!=b&&"fade&slide"!=b||(v.top=parseInt(f.css("top")),f.css("top",v.top+c)),f.animate(v,
T.show)):"function"==typeof b?b.call(f):f.css("visibility","visible");E=a;I[a]=!0;h[a].addClass(n[a].title.classname.active);return!1}function p(a){var b=x[a].stop(!0),c=n[a].effect.hide||n[a].effect.show,d;S.test(c)?("fade"==c?d={opacity:0}:"slide"==c?d={height:1}:"fade&slide"==c&&(d={height:0,opacity:0}),!b.hasClass(n[a].option.classname.upper)||"slide"!=c&&"fade&slide"!=c||(d.top=b[0].offsetTop+b[0].offsetHeight),b.animate(d,T.hide)):"function"==typeof c?c.call(b):b.detach();E=-1;I[a]=!1;h[a].removeClass(n[a].title.classname.active)}
function R(){-1<E&&I[E]&&p(E)}function G(a,b,c){a=J[a];for(var d=a.length,g=0,e=0,h,k=0;e<d;e++)if("span"==a[e].nodeName.toLowerCase()){if(k==b){e=Math.max(0,Math.min(e,d-c));h=Math.min(e+c,d);break}k++}for(;e<h;e++)(b=a[e].offsetHeight)?g+=b:e--;return g}function z(a,b){return v[a].find("span")[b].offsetTop}function D(a){var f=m[a][0].options.selectedIndex,c=n[a].option,d=[];"ul"!=c.tagname.toLowerCase()&&(d=["<ul>"]);d.push(q(m[a]));"ul"!=c.tagname.toLowerCase()&&d.push("</ul>");v[a].html(d.join(""));
v[a].find("span").each(function(c){c==f&&$(this).addClass(n[a].option.classname.selected);this.onclick=function(a,c){return function(f){var d;b:{for(d=m[a][0].options[c];"select"!=d.nodeName.toLowerCase();){if(d.disabled){d=!0;break b}d=d.parentNode}d=!1}d?b(f):(l(a,c),!L&&m[a].focus());return!1}}(a,c)});v[a].find("strong").click(b);J[a]=v[a].find("strong, span")}function q(a){a=a.children("option, optgroup");for(var b=[],c=0,d=a.length;c<d;c++)b.push("<li"),a[c].disabled&&b.push(' class="disabled"'),
a[c].getAttribute("data-fakeselect-hide")&&b.push(' style="display:none;"'),b.push(">"),"optgroup"==a[c].nodeName.toLowerCase()?(b.push('<strong class="',a[c].className,'">',a[c].label,"</strong>"),b.push("<ul>"),b.push(q($(a[c]))),b.push("</ul>")):b.push('<span class="',a[c].className,'">',a[c].innerHTML,"</span>"),b.push("</li>");return b.join("")}function b(a){a.stopPropagation()}function N(a,b){var c,d;h[a]&&(c=m[a],d=c[0].options,O[a].html(d.length?d[d.selectedIndex].text:""),b&&h[a].css("width",
(c[0].offsetWidth||B(c[0])||n[a].title.defaultwidth)-n[a].title.widthminus))}function B(a){a=a.currentStyle?a.currentStyle.width:document.defaultView.getComputedStyle(a,null).width;return parseInt(a)||0}function C(a){var b=d(a);if(h[b])h[b][a.disabled?"addClass":"removeClass"](n[b].title.classname.disabled)}function r(a){for(;a.children().length;)a=a.children().eq(0);return a}var m=[],h=[],O=[],x=[],v=[],J=[],W=/^(reset|value|show|hide|remove|disable|enable)$/,S=/^(fade|slide|fade&slide)$/,n=[],I=
[],E=-1,g=-1,P,T={show:{duration:175},hide:{duration:100,complete:U}};$.fn.fakeselect=function(a,b){!a||$.isPlainObject(a)?V(this,a):"string"==typeof a&&W.test(a)&&this.each(function(){P[a].call(this,b);"reset"!=a&&P.reset.call(this)});return this};P={reset:function(){c.call(this,!0)},value:function(a){this.value=a},show:function(){var a=d(this);$(this).show();h[a]&&(N(a),h[a].show())},hide:function(){var a=d(this);$(this).hide();h[a]&&h[a].hide()},remove:function(){var a=d(this);h[a]&&(h[a].remove(),
x[a].remove(),m[a].removeAttr("data-fakeform-index").css({position:"",left:""}),m[a]=h[a]=O[a]=x[a]=v[a]=J[a]=null)},disable:function(){this.disabled="disabled"},enable:function(){this.removeAttribute("disabled")}};A.bind("click",R);M.bind("resize",R)})()}})();
})(window.jQuery);

